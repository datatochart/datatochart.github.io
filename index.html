<!DOCTYPE html>
<html>
<head>
<title>ChartFromData</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<script>

  var labels = [];
  var values = [];
  var x = '';

function line(){
  const ctx = document.getElementById('bar');
  x.destroy();
  x =  new Chart(ctx, {
    type: 'line',
    data: {
      labels: labels,
      datasets: [{
        data: values,
        borderWidth: 1
      }]
    },
    options: {
      scales: {
        y: {
          beginAtZero: true
        }
      }
    }
  });
}

function pie(){
  const ctx = document.getElementById('bar');
  x.destroy();
  x = new Chart(ctx, {
    type: 'pie',
    data: {
      labels: labels,
      datasets: [{
        data: values,
        borderWidth: 1
      }]
    },
    options: {
      scales: {
        y: {
          beginAtZero: true
        }
      }
    }
  });
}

function bar(){

    if(x !=''){
        x.destroy();
    }
     
    const ctx = document.getElementById('bar'); 
    x = new Chart(ctx, {
    type: 'bar',
    data: {
      labels: labels,
      datasets: [{
        data: values,
        borderWidth: 1
      }]
    },
    options: {
      scales: {
        y: {
          beginAtZero: true
        }
      }
    }
  });
}

function getFormValues(){
    document.getElementById('charts').style.display = "";
    labels=document.getElementById('labels').value.split(',');
    values=document.getElementById('values').value.split(',');
    console.log(labels,values);

    bar();
}

</script>

<ul class="nav nav-pills nav-fill gap-2 p-1 small bg-primary rounded-5 shadow-sm" id="charts" role="tablist" style="--bs-nav-link-color: var(--bs-white); --bs-nav-pills-link-active-color: var(--bs-primary); --bs-nav-pills-link-active-bg: var(--bs-white); display:none">
  <li class="nav-item" role="presentation">
    <button onclick=bar() class="nav-link active rounded-5" data-bs-toggle="tab" type="button" role="tab" aria-selected="true">Bar Chart</button>
  </li>
  <li class="nav-item" role="presentation">
    <button onclick=pie() class="nav-link rounded-5" data-bs-toggle="tab" type="button" role="tab" aria-selected="false">Pie Chart</button>
  </li>
  <li class="nav-item" role="presentation">
    <button onclick=line() class="nav-link rounded-5" data-bs-toggle="tab" type="button" role="tab" aria-selected="false">Line Chart</button>
  </li>
</ul>

<div class="input-group input-group-sm mb-3" style="margin: 1rem 1rem 1rem 4rem; max-width:90%;" >

  <span class="input-group-text" >Enter Labels (,separated)</span>
  <input type="text" class="form-control" id="labels" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm">

  <span class="input-group-text" >Enter Data (,separated)</span>
  <input type="text" class="form-control" id="values" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm">
  &nbsp;&nbsp;&nbsp;
  <button class="btn btn-primary rounded-5" type="submit" onclick="getFormValues()"> Chart </button>

</div>

<div>
<div style="margin-left:100px;margin-top:100px">
  <canvas style="max-width:1250px;max-height:400px" id="bar"></canvas>
</div>
</div>

</body>
</html>
